<!DOCTYPE html>
<html>
<head>
    <title>Level 1</title>
    <style>
        body { background-color: black; overflow: hidden; margin: 0; }
        .game-object { position: absolute; }
    </style>
</head>
<body id="myBody">

<img id="myPlayer" src="myPlayer.png" class="game-object" style="width:32px; height:32px; left: 60px; top:480px;">
<img id="myWinArea" src="myWinArea.gif" class="game-object" style="width:100px; height:100px; left: 880px; top: 80px;">

<img id="wall-top" src="blockImage.png" class="game-object" style="width:1000px; height:10px; left: 0px; top: 50px;">
<img id="wall-bottom" src="blockImage.png" class="game-object" style="width:1000px; height:10px; left: 0px; top: 550px;">
<img id="wall-left" src="blockImage.png" class="game-object" style="width:10px; height:500px; left: 0px; top: 50px;">
<img id="wall-right" src="blockImage.png" class="game-object" style="width:10px; height:500px; left: 990px; top: 50px;">
<img id="wall-v1" src="blockImage.png" class="game-object" style="width:10px; height:300px; left: 200px; top: 50px;">
<img id="wall-v2" src="blockImage.png" class="game-object" style="width:10px; height:200px; left: 450px; top: 350px;">
<img id="wall-v3" src="blockImage.png" class="game-object" style="width:10px; height:200px; left: 800px; top: 350px;">
<img id="wall-v4" src="blockImage.png" class="game-object" style="width:10px; height:100px; left: 550px; top: 50px;">
<img id="wall-h1" src="blockImage.png" class="game-object" style="width:200px; height:10px; left: 200px; top: 350px;">
<img id="wall-h2" src="blockImage.png" class="game-object" style="width:100px; height:10px; left: 550px; top: 150px;">
<img id="wall-h3" src="blockImage.png" class="game-object" style="width:100px; height:10px; left: 800px; top: 350px;">
<img id="wall-h4" src="blockImage.png" class="game-object" style="width:150px; height:10px; left: 450px; top: 450px;">
<img id="wall-h5" src="blockImage.png" class="game-object" style="width:150px; height:10px; left: 700px; top: 250px;">

<script>
const myPlayer = document.getElementById("myPlayer");

const START_X = 60;
const START_Y = 480;

let playerX = START_X;
let playerY = START_Y;
let prevPlayerX = playerX; 
let prevPlayerY = playerY;
let maxPlayerX = window.innerWidth - 32;
let maxPlayerY = window.innerHeight - 32;

let up = false;
let down = false;
let left = false;
let right = false;

const mazeWalls = ['wall-top', 'wall-bottom', 'wall-left', 'wall-right', 'wall-v1', 'wall-v2', 'wall-v3', 'wall-v4', 'wall-h1', 'wall-h2', 'wall-h3', 'wall-h4', 'wall-h5'];

function myHitOther(my1, my2){
    const e1 = document.getElementById(my1), e2 = document.getElementById(my2);
    if(!e1 || !e2) return false;
    let r1 = e1.getBoundingClientRect(), r2 = e2.getBoundingClientRect();
    return !(r1.right < r2.left || r1.left > r2.right || r1.bottom < r2.top || r1.top > r2.bottom);
}

function resetPlayer() {
    playerX = START_X; playerY = START_Y;
    myPlayer.style.left = playerX + 'px';
    myPlayer.style.top = playerY + 'px';
}

document.onkeydown = (event) => {
    if (event.key === "w") up = true; 
    if (event.key === "s") down = true;
    if (event.key === "a") left = true; 
    if (event.key === "d") right = true;
};
document.onkeyup = (event) => {
    if (event.key === "w") up = false; 
    if (event.key === "s") down = false;
    if (event.key === "a") left = false; 
    if (event.key === "d") right = false;
};

function move() {
    prevPlayerX = playerX; prevPlayerY = playerY;

    if (left) playerX -= 3; if (right) playerX += 3;
    playerX = Math.max(0, Math.min(playerX, maxPlayerX));
    myPlayer.style.left = playerX + 'px';
    for (let id of mazeWalls) if (myHitOther('myPlayer', id)) playerX = prevPlayerX;
    myPlayer.style.left = playerX + 'px';

    if (up) playerY -= 3; if (down) playerY += 3;
    playerY = Math.max(0, Math.min(playerY, maxPlayerY));
    myPlayer.style.top = playerY + 'px';
    for (let id of mazeWalls) if (myHitOther('myPlayer', id)) playerY = prevPlayerY;
    myPlayer.style.top = playerY + 'px';

    if (myHitOther('myPlayer','myWinArea')) location.href = 'level2.html';
}

setInterval(move, 10);
window.onresize = () => { maxPlayerX = window.innerWidth - 32; maxPlayerY = window.innerHeight - 32; };
</script>

<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<h1 style="text-align: center; color: white;">Level 1 for Nolan's Final Project</h1><br>
<p style="text-align: center; color: white;">Navigate the maze using WASD to reach the goal!</p>
<p style="text-align: center; color: white;">In level 2, you can use Z to interact and X to go back a step.</p>
<p style="text-align: center; color: white;">This level uses your Maze template, I have just modified it heavily to suit my project.</p>
<button style="display: block; margin: 0 auto;" onclick="{location.href ='project-index.html'}">Shortcut Menu for Marking</button>
</body>
</html>
